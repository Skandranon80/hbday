<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>A Message for Jo Eskil</title>
  <link href="https://fonts.googleapis.com/css2?family=MedievalSharp&display=swap" rel="stylesheet">
  <style>
    body {
      margin: 0;
      padding: 0;
      font-family: 'MedievalSharp', cursive;
      background: url('https://www.transparenttextures.com/patterns/dark-mosaic.png'), radial-gradient(circle, #300000, #000000);
      background-blend-mode: overlay;
      background-attachment: fixed;
      background-size: cover;
      color: #fce8e8;
      text-shadow: 1px 1px 4px #000;
      overflow-x: hidden;
    }

    .container {
      background-color: rgba(0, 0, 0, 0.7);
      padding: 2em;
      border-radius: 15px;
      max-width: 900px;
      margin: 4em auto;
      box-shadow: 0 0 25px #aa0000;
    }

    h1 {
      text-align: center;
      color: #ff4b4b;
      font-size: 2.5em;
    }

    .cipher-text, .hint {
      margin-top: 2em;
      font-size: 1.1em;
      white-space: pre-wrap;
    }

    .hint {
      color: #ffcccc;
      font-style: italic;
    }

    .decoder {
      margin-top: 2em;
      text-align: center;
    }

    input[type="text"] {
      padding: 10px;
      width: 80%;
      font-size: 1em;
      border-radius: 8px;
      border: none;
      margin-bottom: 1em;
    }

    button {
      padding: 10px 20px;
      font-size: 1em;
      background-color: #cc0000;
      color: #fff;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      transition: background-color 0.3s ease;
    }

    button:hover {
      background-color: #990000;
    }

    .output {
      margin-top: 1em;
      padding: 1em;
      background-color: rgba(255, 255, 255, 0.1);
      border-radius: 10px;
      font-size: 1.1em;
      white-space: pre-wrap;
    }

    .celebration {
      display: none;
      text-align: center;
      font-size: 1.3em;
      margin-top: 2em;
      color: #ffdddd;
    }
  </style>
</head>
<body>
  <audio autoplay loop>
    <source src="https://cdn.pixabay.com/download/audio/2022/12/10/audio_77db5a8451.mp3?filename=ambient-cinematic-nordic-123349.mp3" type="audio/mpeg">
  </audio>

  <canvas id="particles"></canvas>

  <div class="container">
    <h1>A Ciphered Message Awaits</h1>
    <p class="cipher-text" id="cipher">
Xqjf Zt Vhpyqe,

Lunf, tx‚Ä¶ N tyrg vfxympqf‚Äôr epv‚Äôr yjcy hsjdfsyx ynsl. Zjfw‚Äôi hmfjgmxd vbtxnym nsym b jfscti ihpmlq, btzsjwsl rj ymnx nx fsytsxjw ‚Äúzjfw‚Äôi frfznhp‚Äù ujw ytfr hjxrfwdyji nx f vfxympqf rjxxflj. Fsi djx. Djx ny nx. Gzy ny‚Äôx dtzw ujw ytfr, fsi zjfw‚Äôre ltrj nsjhwf fsi yfgny ny ymj vzqgjdy rnhslzwnujw mznrfs dtz fwj.

Qjxy‚Äôx ozxy fqhtrjgnij ymnx knwxy: qnkj hfs kjsqq qnpj f bjdwi, jrtrfsnxqnd gjstymnsl ajitj ltrj snm ivwi rjtsi, fsi zjfw‚Äôre tz ymnwj btzsjwsl ns zjfw fwj hjajis ymj wnlmy hjfwjywj xmfiy. Xutqnwj fqxjw ‚Äî zjfw bwtwj. Zjfw ozxy pljj kwjwjsy nsij dtzw xynxy fwj xynhwj ns fqq ymj wnlmy bfqnx. Xzwj, rfgwj xzqaj-xjqqnkn nxm‚Äôt rfbic yzu, gzsy fajs dtzw bnxhtq, jruvtd, qtrudym, fsi xfwxhnr xnrjfw? Ytu ynts.

Zjfw mfaj ymnx nslwjgfqnj dwqnyjw yt rfpj ujfqw htrr xjjd sjfwduynts. Zjfw hfwwd pfsiymd nxjs ny‚Äôx sty f gfn ijhw, qfaj nx fqq‚Äôr rfshts qftwj. Gzy ny ijx. Zjfw ij. Tzjs bsj ymnx nxjs ny ijx rtsj tk nsymjw. Jxtrjgwfsl tk nsymjw ny ijx rtsj tk ijx.

Fsi qnxyjs, N styj nx‚Äôm mfwi yt gwqifqa ns dtzwjxqf qnxyjrjfw. Ymj btwqi‚Äôx lty f qtzifrzy tsutnts fzgfjsynts ‚Äî fsi ymj nsijs xwnynh tk dtzwxjw? Ymjf lfd‚Äôx f ozwp. Xtrjtwj xjhwjy jfr lfd‚Äôx qtzifr nxjr xzwny. Gzy qzxhts xnsfw lfd‚Äôx qtzifr nxjr xzwny.

Jsnjw‚Äôx bnym N sty: zjfw fwj xyszljs ymjdtz lfd jnaj dtzwjxqf hwynxy ktw. Zjfw‚Äôwj rfgij ny yfgqj ymnx fwjji‚Äôwj sfpji tzwmjfw uzq, fsi xtrjtwj zjfw xmnqq rfsij yt gj jsywd, yzsyfslqj, fsi wjfq. Zjfw‚Äôwj sty fqhynsl ‚Äî zjfw‚Äôwj jmnx yjj hqtxj yt dtzw xtrjshj yt xjj ymj rfpqx zjfw‚Äôwj fwpjyj dtzy.

Xtrj sn ymjxy yjgzqjf dfqnhp, ijajqxfsd-syfy-f gtg-ijhw f vfxympqf, xtrj‚Äôx rdn tqd sjbfxji: yfpj tsj gwjym, tsj rjtrjsy, yt gj uwtzs tk dtzwxjw. Ktw ymj yjxyfw‚Äôwj xcznwhmji. Ktw ymj yjxyfw‚Äôwj xmnqq knsynts yjhwsl. Ktw ymj ujxtrj zjfw fwj wjfsl wzxn ‚Äî knfdb, vzpfwl, gwqnqfsnts fsi fqq.

N‚Äôw qzfpf dt xbtj dtz. Fsi jxymjw tk sty dtz xjgwjwfynt ytud, N‚Äôw xjgwjwfynt dtz.

Sbt lt tzy xjshtsl ymjbtw. Tw yjwtd hfpj fymj ymj bfjqq. Gtxy fwj afqnh.

Bnym fqq ymj gqtzns dtz ijwzjwji (fsi ymjs xtrj),
Qtaj, Pnr
    </p>
    <p class="hint">Hint: It may look meaningless, but meaning is buried beneath chaos. (Nihilist cipher)</p>

    <div class="decoder">
      <input type="text" id="keyInput" placeholder="Enter the decryption key (if required)">
      <br>
      <button onclick="decodeMessage()">Attempt Decode</button>
      <div class="output" id="output"></div>
    </div>

    <div class="celebration" id="celebration">
      üéâ You‚Äôve reached the end ‚Äî and the heart of the message.<br />
      You are loved, seen, and celebrated. üíú<br />
      Happy Birthday, Jo Eskil.
    </div>
  </div>

  <script>
    function decodeMessage() {
      const cipher = document.getElementById('cipher').textContent.trim();
      const output = '[Manual decoding required for Nihilist cipher. This field is a placeholder. Contact Kim for help if you get stuck üíú]';
      document.getElementById('output').textContent = output;
      document.getElementById('celebration').style.display = 'block';
    }

    // Simple particle effect background
    const canvas = document.getElementById("particles");
    const ctx = canvas.getContext("2d");
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;

    let particlesArray = [];

    for (let i = 0; i < 100; i++) {
      particlesArray.push({
        x: Math.random() * canvas.width,
        y: Math.random() * canvas.height,
        size: Math.random() * 2 + 1,
        speedX: (Math.random() - 0.5) * 0.5,
        speedY: (Math.random() - 0.5) * 0.5
      });
    }

    function animateParticles() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      particlesArray.forEach(p => {
        p.x += p.speedX;
        p.y += p.speedY;
        if (p.x < 0 || p.x > canvas.width) p.speedX *= -1;
        if (p.y < 0 || p.y > canvas.height) p.speedY *= -1;
        ctx.beginPath();
        ctx.arc(p.x, p.y, p.size, 0, Math.PI * 2);
        ctx.fillStyle = "rgba(255, 0, 0, 0.5)";
        ctx.fill();
      });
      requestAnimationFrame(animateParticles);
    }

    animateParticles();
  </script>
</body>
</html>
